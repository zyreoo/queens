[gd_scene load_steps=5 format=3 uid="uid://hkxl6ha37deg"]

[ext_resource type="Script" uid="uid://50umvc1l6jn6" path="res://scripts/main.gd" id="1_pcy04"]
[ext_resource type="Script" uid="uid://c0s7yy2xgo2kb" path="res://scripts/Player1.gd" id="2_0wfyh"]
[ext_resource type="Script" uid="uid://dbupxig40egti" path="res://scripts/effects.gd" id="4_effects"]

[sub_resource type="GDScript" id="GDScript_o5qli"]
script/source = "extends Node

@onready var http := HTTPRequest.new()

func _ready():
	add_child(http)
	http.request_completed.connect(_on_request_completed)

	var url = \"http://localhost:3000/join\"
	var headers = [\"content-Type: application/json\"]
	var body = JSON.stringify({ \"room_id\": \"room1\" })

	var err = http.request(url, headers, HTTPClient.METHOD_POST, body)

	if err != OK:
		print(\" request error:\", err)

func _on_request_completed(result: int, response_code: int, headers: PackedStringArray, body: PackedByteArray) -> void:
	print(\" response:\", body.get_string_from_utf8())
"

[node name="Main" type="Node2D"]
position = Vector2(-1, 1)
script = ExtResource("1_pcy04")

[node name="RoomManagement" type="Control" parent="."]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="CreateRoomButton" type="Button" parent="RoomManagement"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = 494.0
offset_top = 105.0
offset_right = 674.0
offset_bottom = 136.0
grow_horizontal = 0
text = "Create Room"

[node name="RoomList" type="ItemList" parent="RoomManagement"]
layout_mode = 1
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = 514.0
offset_top = 172.0
offset_right = 694.0
offset_bottom = 203.0
grow_horizontal = 0

[node name="StartGameButton" type="Button" parent="."]
offset_left = 322.0
offset_top = 277.0
offset_right = 418.0
offset_bottom = 308.0
text = "Start Game"

[node name="MessageLabel" type="Label" parent="."]
offset_right = 40.0
offset_bottom = 23.0

[node name="queens_button" type="Button" parent="."]
offset_left = 345.0
offset_top = 325.0
offset_right = 417.0
offset_bottom = 356.0
text = "QUEENS"

[node name="HTTPRequest" type="HTTPRequest" parent="."]

[node name="HandContainer" type="HBoxContainer" parent="."]
offset_right = 40.0
offset_bottom = 40.0

[node name="Player0" type="Node2D" parent="."]
position = Vector2(963, 664)
script = ExtResource("2_0wfyh")

[node name="HandContainer" type="VBoxContainer" parent="Player0"]
offset_left = 290.0
offset_top = 131.0
offset_right = 330.0
offset_bottom = 171.0

[node name="Player1" type="Node2D" parent="."]
position = Vector2(660, 448)
script = ExtResource("2_0wfyh")

[node name="HandContainer" type="VBoxContainer" parent="Player1"]
offset_left = -13.0
offset_top = 33.0
offset_right = 27.0
offset_bottom = 73.0

[node name="Player2" type="Node2D" parent="."]
position = Vector2(952, 237)
script = ExtResource("2_0wfyh")

[node name="HandContainer" type="VBoxContainer" parent="Player2"]
offset_right = 40.0
offset_bottom = 40.0

[node name="Player3" type="Node2D" parent="."]
position = Vector2(1277, 457)
script = ExtResource("2_0wfyh")

[node name="HandContainer" type="VBoxContainer" parent="Player3"]
offset_left = 208.0
offset_top = 62.0
offset_right = 248.0
offset_bottom = 102.0

[node name="Multiplayer" type="Node2D" parent="."]
script = SubResource("GDScript_o5qli")

[node name="CenterCardSlot" type="Node2D" parent="."]
position = Vector2(949, 452)

[node name="Effects" type="Node" parent="."]
script = ExtResource("4_effects")

[connection signal="item_selected" from="RoomManagement/RoomList" to="." method="_on_room_selected"]
